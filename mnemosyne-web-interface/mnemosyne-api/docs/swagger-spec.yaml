openapi: 3.0.0
paths:
  /api/users/forgot-password:
    post:
      operationId: UsersController_forgotPassword
      summary: Endpoint is responsible for initiation of password reset.
      parameters: []
      requestBody:
        required: true
        description: In order to reset password user has to provide only email.
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ForgotPasswordDto"
      responses:
        "201":
          description: In both cases - if user exists or not, user will get the same
            response saying that email with password reset link has been sent.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ResetPasswordEmailDto"
        "400":
          description: Bad request error is sent to user if user will try to send more
            than 1 reset request within 180 seconds.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/WrongTimeframeException"
        "403":
          description: In case if password has been changed within 24h, user will not be
            able to continue.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PasswordChangedException"
      tags: &a1
        - Users
      security:
        - basicAuth: []
  /api/users/upload-user-photo:
    post:
      operationId: UsersController_uploadUserPhoto
      summary: Endpoint is responsible for upload of the user photo.
      parameters: []
      requestBody:
        required: true
        description: Body contains base64-encoded PNG picture.
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UploadPhotoDto"
      responses:
        "201":
          description: As a response user gets message that photo is uploaded.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PhotoUploadedDto"
        "400":
          description: If user tries to upload something else except of base64-encoded PNG
            picture.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/WrongPictureException"
      tags: *a1
      security:
        - x-access-token: []
        - basicAuth: []
  /api/users/user-info:
    get:
      operationId: UsersController_getUserInfo
      summary: Endpoint is responsible for getting user personal information.
      parameters: []
      responses:
        "201":
          description: As a response user gets personal information.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/GetUserInfoResponseDto"
      tags: *a1
      security:
        - x-access-token: []
        - basicAuth: []
    patch:
      operationId: UsersController_updateUserInfo
      summary: Endpoint is responsible for updating user information.
      parameters: []
      requestBody:
        required: true
        description: Body contains user personal information.
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UpdateUserInfoDto"
      responses:
        "201":
          description: As a response user gets message that information has been updated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UserUpdatedDto"
      tags: *a1
      security:
        - x-access-token: []
        - basicAuth: []
  /api/users/user-security:
    get:
      operationId: UsersController_getUserSecuritySettings
      summary: Endpoint is responsible for getting user security settings.
      parameters: []
      responses:
        "201":
          description: As a response user gets security settings.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/GetUserSecResponseDto"
      tags: *a1
      security:
        - x-access-token: []
        - basicAuth: []
  /api/confirmation-hash/account-confirmation:
    get:
      operationId: ConfirmationHashController_confirmAccount
      summary: Endpoint is responsible for account confirmation.
      parameters:
        - name: confirmationHash
          required: true
          in: query
          description: Confirmation hash
          schema:
            type: string
        - name: language
          required: true
          in: query
          description: Language that is going to be user in order to select the language
            of the email template, SMS message etc. Comes from FE localStorage
            from Transloco package.
          schema:
            enum:
              - ru
              - pl
              - en
            type: string
      responses:
        "201":
          description: As a response function returns either message that MFA has not been
            set or recovery keys have not been set or, after they both set,
            message that account is confirmed
          content:
            application/json:
              schema:
                oneOf:
                  - $ref: "#/components/schemas/MfaNotSetDto"
                  - $ref: "#/components/schemas/RecoveryKeysNotSetDto"
                  - $ref: "#/components/schemas/AccountConfirmedDto"
        "403":
          description: In case if account has already been confirmed, user gets the message.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AccountAlreadyConfirmedException"
      tags: &a2
        - Confirmation Hashes
      security:
        - basicAuth: []
  /api/confirmation-hash/company-account-confirmation:
    post:
      operationId: ConfirmationHashController_confirmCompanyAccount
      summary: Endpoint is responsible for company account confirmation
      parameters:
        - name: confirmationHash
          required: true
          in: query
          description: Confirmation hash
          schema:
            type: string
      requestBody:
        required: true
        description: This endpoint is also responsible for account confirmation and
          setup of the person, who was assigned as primary admin during company
          account creation process.
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ConfirmCompanyAccDto"
      responses:
        "201":
          description: Response is similar to the response of normal account confirmation,
            but in this case, except MFA and recovery keys, user (company admin)
            will have to set up also personal data (first name and last name)
            and password.
          content:
            application/json:
              schema:
                oneOf:
                  - $ref: "#/components/schemas/CompanyAccountConfirmedDto"
                  - $ref: "#/components/schemas/MfaNotSetDto"
                  - $ref: "#/components/schemas/RecoveryKeysNotSetDto"
                  - $ref: "#/components/schemas/UserDataNotSetDto"
                  - $ref: "#/components/schemas/PasswordNotSetDto"
        "403":
          description: Forbidden error is thrown in case if account already confirmed.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AccountAlreadyConfirmedException"
        "404":
          description: Not found exception is thrown in case if confirmation hash is not
            found.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HashNotFoundException"
      tags: *a2
      security:
        - basicAuth: []
  /api/confirmation-hash/company-member-account-confirmation:
    post:
      operationId: ConfirmationHashController_companyMemberAccountConfirmation
      summary: Endpoint is responsible for company member account confirmation.
      parameters:
        - name: confirmationHash
          required: true
          in: query
          description: Confirmation hash
          schema:
            type: string
      requestBody:
        required: true
        description: This endpoint is also responsible for account confirmation and
          setup of the invited person, if the invited person did not have an
          account. Otherwise, the membership will be just confirmed.
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ConfirmCompanyAccDto"
      responses:
        "201":
          description: Response is similar to the response of normal account confirmation,
            but in this case, except MFA and recovery keys, user (company admin)
            will have to set up also personal data (first name and last name)
            and password.
          content:
            application/json:
              schema:
                oneOf:
                  - $ref: "#/components/schemas/CompanyMemberAccConfirmedDto"
                  - $ref: "#/components/schemas/MfaNotSetDto"
                  - $ref: "#/components/schemas/RecoveryKeysNotSetDto"
                  - $ref: "#/components/schemas/UserDataNotSetDto"
                  - $ref: "#/components/schemas/PasswordNotSetDto"
        "403":
          description: Forbidden error is thrown in case if account already confirmed.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AccountAlreadyConfirmedException"
        "404":
          description: Not found exception is thrown in case if confirmation hash is not
            found.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HashNotFoundException"
      tags: *a2
      security:
        - basicAuth: []
  /api/confirmation-hash/email-change-confirmation:
    post:
      operationId: ConfirmationHashController_confirmEmailChange
      summary: Endpoint is responsible for email change confirmation
      parameters:
        - name: confirmationHash
          required: true
          in: query
          description: Confirmation hash
          schema:
            type: string
      requestBody:
        required: true
        description: "While email change confirmation user has to provide confirmation
          data about their account. It includes: password, MFA code and/or
          mobile phone code."
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ConfirmEmailChangeDto"
      responses:
        "201":
          description: As a response user gets information that email change has been
            confirmed, but before that they need to verify their identity with
            password and MFA.
          content:
            application/json:
              schema:
                oneOf:
                  - $ref: "#/components/schemas/EmailChangedDto"
                  - $ref: "#/components/schemas/FullMfaRequiredDto"
                  - $ref: "#/components/schemas/TokenTwoFaRequiredDto"
                  - $ref: "#/components/schemas/PhoneMfaRequiredDto"
        "400":
          description: Bad request responses include wrong provided MFA code, or expired
            MFA code, or wrong provided credentials.
          content:
            application/json:
              schema:
                oneOf:
                  - $ref: "#/components/schemas/SmsExpiredException"
                  - $ref: "#/components/schemas/WrongCredentialsException"
                  - $ref: "#/components/schemas/WrongCodeException"
        "404":
          description: Not found error is thrown in case if link (confirmation hash) has
            expired.
          content:
            application/json:
              schema:
                $ref:
                  - $ref: "#/components/schemas/HashNotFoundException"
                  - $ref: "#/components/schemas/LinkExpiredException"
      tags: *a2
      security:
        - basicAuth: []
  /api/confirmation-hash/reset-user-password-confirmation:
    post:
      operationId: ConfirmationHashController_confirmResetUserPassword
      summary: Endpoint is responsible for user reset password confirmation.
      parameters:
        - name: confirmationHash
          required: true
          in: query
          description: Confirmation hash
          schema:
            type: string
      requestBody:
        required: true
        description: "While reset password confirmation user has to provide confirmation
          data about their account. It includes: password, MFA code and/or
          mobile phone code."
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ResetUserPasswordDto"
      responses:
        "201":
          description: As a response user gets information that new password is set, but
            before that they need to verify their identity with password and
            MFA.
          content:
            application/json:
              schema:
                oneOf:
                  - $ref: "#/components/schemas/PasswordResetDto"
                  - $ref: "#/components/schemas/FullMfaRequiredDto"
                  - $ref: "#/components/schemas/TokenTwoFaRequiredDto"
                  - $ref: "#/components/schemas/PhoneMfaRequiredDto"
        "400":
          description: Bad request responses include wrong provided MFA code, or expired
            MFA code, or wrong provided credentials or that the previous
            password is used.
          content:
            application/json:
              schema:
                oneOf:
                  - $ref: "#/components/schemas/SmsExpiredException"
                  - $ref: "#/components/schemas/WrongCredentialsException"
                  - $ref: "#/components/schemas/WrongCodeException"
                  - $ref: "#/components/schemas/PreviousPasswordException"
        "404":
          description: Not found exceptions are thrown in case if either hash not found or
            link expired.
          content:
            application/json:
              schema:
                oneOf:
                  - $ref: "#/components/schemas/HashNotFoundException"
                  - $ref: "#/components/schemas/LinkExpiredException"
      tags: *a2
      security:
        - basicAuth: []
  /api/auth/login:
    post:
      operationId: AuthController_login
      summary: Endpoint is responsible for user login.
      parameters: []
      requestBody:
        required: true
        description: According to the requirements, all users will have to configure MFA
          for their accounts. Therefore, even tho both MFA codes are optional,
          at least one of them will be provided.
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/LogInUserDto"
      responses:
        "201":
          description: As a response function returns 2 tokens - refresh and access. Also,
            as a response user may get a message that either token or phone MFA
            is required or both of them. It is sent as a message (status 201),
            not an error.
          content:
            application/json:
              schema:
                oneOf:
                  - $ref: "#/components/schemas/LogInUserResponseDto"
                  - $ref: "#/components/schemas/MfaNotSetDto"
                  - $ref: "#/components/schemas/RecoveryKeysNotSetDto"
                  - $ref: "#/components/schemas/FullMfaRequiredDto"
                  - $ref: "#/components/schemas/TokenTwoFaRequiredDto"
                  - $ref: "#/components/schemas/PhoneMfaRequiredDto"
        "400":
          description: Bad request responses include wrong provided MFA code, or expired
            MFA code, or wrong provided credentials.
          content:
            application/json:
              schema:
                oneOf:
                  - $ref: "#/components/schemas/SmsExpiredException"
                  - $ref: "#/components/schemas/WrongCredentialsException"
                  - $ref: "#/components/schemas/WrongCodeException"
        "403":
          description: Forbidden response for login includes only response saying that
            user account has not been confirmed. It means, that it exists, but
            user have not clicked the link in the message.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AccountNotConfirmedException"
      tags: &a3
        - Authentication
      security:
        - basicAuth: []
  /api/auth/registration:
    post:
      operationId: AuthController_registration
      summary: Endpoint is responsible for user registration.
      parameters: []
      requestBody:
        required: true
        description: In order to create an account user has to provide email, password,
          first name and last name, and accept T&C.
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CreateUserDto"
      responses:
        "201":
          description: As a response function returns message about created user.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UserCreatedDto"
        "400":
          description: User gets bad request response in case if user already exists.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UserAlreadyExistsException"
        "403":
          description: Forbidden response for registration includes only response saying
            that user has not accepted Terms & Conditions.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TacNotAcceptedException"
      tags: *a3
      security:
        - basicAuth: []
  /api/auth/logout:
    get:
      operationId: AuthController_logout
      summary: Endpoint is responsible for user log out.
      parameters: []
      responses:
        "201":
          description: As a response function returns message about that user was logged
            out and refresh token cleaned from token.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/LoggedOutDto"
      tags: *a3
      security:
        - x-access-token: []
        - basicAuth: []
  /api/auth/refresh:
    get:
      operationId: AuthController_refreshToken
      summary: Endpoint is responsible for refresh tokens.
      parameters: []
      responses:
        "201":
          description: As a response function returns 2 tokens - refresh and access. But
            in compare with login function, this function always returns 2
            tokens, without asking for MFA etc.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/LogInUserResponseDto"
        "400":
          description: Bad requests can return in case of invalid tokens or corrupted
            tokens.
          content:
            application/json:
              schema:
                oneOf:
                  - $ref: "#/components/schemas/InvalidTokenException"
                  - $ref: "#/components/schemas/CorruptedTokenException"
        "401":
          description: Unauthorized error can be returned in case of if token is expired.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ExpiredTokenException"
      tags: *a3
      security:
        - basicAuth: []
  /api/auth/contact-us:
    post:
      operationId: AuthController_contactUs
      summary: Endpoint is responsible for contacting the company staff
      parameters: []
      requestBody:
        required: true
        description: Body contains the email that will be used to contact back along
          with the message.
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ContactUsDto"
      responses:
        "201":
          description: As a response functions returns the message that the message to the
            company has been sent.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ContactMessageSentDto"
      tags: *a3
      security:
        - basicAuth: []
  /api/company/create-company:
    post:
      operationId: CompanyController_createCompany
      summary: Endpoint is responsible for company creation.
      parameters: []
      requestBody:
        required: true
        description: In order to create a company account user has to provide company
          name, location, website, owner email, list of company members
          (optional) and accept T&C.
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CreateCompanyDto"
      responses:
        "201":
          description: As a response function returns message about created company.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CompanyCreatedDto"
        "400":
          description: Bad request is returned in case if company is already exists.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CompanyExistsException"
        "403":
          description: Forbidden response for company creation includes only response
            saying that company has not accepted Terms & Conditions.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TacNotAcceptedException"
      tags: &a4
        - Company
      security:
        - basicAuth: []
  /api/company/company-information:
    get:
      operationId: CompanyController_getCompanyInformationById
      summary: Endpoint is responsible for getting information about the company by ID.
      parameters: []
      responses:
        "200":
          description: As a response endpoint returns information about the company by ID.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/GetCompanyByIdDto"
      tags: *a4
      security:
        - x-access-token: []
        - basicAuth: []
  /api/company/company-users:
    get:
      operationId: CompanyController_getCompanyUsers
      summary: Endpoint is responsible for getting the list of all users in company
        with pagination.
      parameters:
        - name: page
          required: true
          in: query
          description: Query for page in order to get list of company users.
          schema:
            type: string
        - name: pageSize
          required: true
          in: query
          description: Query for limit in order to get list of company users.
          schema:
            type: string
      responses:
        "200":
          description: As the response user gets the list of all users along with count
            for pagination.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/GetCompanyUsersDto"
        "400":
          description: Parse exception is thrown in case if page or limit params cannot be
            parsed as number.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ParseException"
      tags: *a4
      security:
        - x-access-token: []
        - basicAuth: []
  /api/company/update-company:
    patch:
      operationId: CompanyController_updateCompanyInformation
      summary: Endpoint is responsible for updating company information.
      parameters: []
      requestBody:
        required: true
        description: Body contains company information.
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UpdateCompanyDto"
      responses:
        "201":
          description: As a response user (with administrator permissions) gets message
            that information has been updated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CompanyUpdatedDto"
      tags: *a4
      security:
        - x-access-token: []
        - basicAuth: []
  /api/company/transfer-ownership:
    post:
      operationId: CompanyController_transferCompanyOwnership
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/TransferOwnershipDto"
      responses:
        "201":
          description: ""
      tags: *a4
      security:
        - x-access-token: []
        - basicAuth: []
  /api/company/delete-company:
    delete:
      operationId: CompanyController_deleteCompanyAccount
      summary: Endpoint is responsible for deletion of the company account.
      parameters: []
      requestBody:
        required: true
        description: In the body user provides MFA code(s), recovery keys with the
          passphrase, and the password
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/DeleteCompanyDto"
      responses:
        "201":
          description: As the response endpoint returns MFA requirement and after MFA is
            provided correctly, the message that the company has been deleted.
          content:
            application/json:
              schema:
                oneOf:
                  - $ref: "#/components/schemas/CompanyDeletedDto"
                  - $ref: "#/components/schemas/FullMfaRequiredDto"
                  - $ref: "#/components/schemas/TokenTwoFaRequiredDto"
                  - $ref: "#/components/schemas/PhoneMfaRequiredDto"
        "400":
          description: In case if either user provided the wrong password or provided
            wrong recovery keys, the bad request error will be thrown.
          content:
            application/json:
              schema:
                oneOf:
                  - $ref: "#/components/schemas/WrongCredentialsException"
                  - $ref: "#/components/schemas/WrongRecoveryKeysException"
      tags: *a4
      security:
        - x-access-token: []
        - basicAuth: []
  /api/roles/get-company-roles:
    get:
      operationId: RolesController_getCompanyRoles
      summary: Endpoint is responsible for getting all roles of the company.
      parameters: []
      responses:
        "201":
          description: As a response user gets the array with all roles, their names,
            descriptions and scopes.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/GetCompanyRolesDto"
      tags: &a5
        - Roles
      security:
        - x-access-token: []
        - basicAuth: []
  /api/roles/create-role:
    post:
      operationId: RolesController_createCompanyRole
      summary: Endpoint is responsible for the creation of the custom company role.
      parameters: []
      requestBody:
        required: true
        description: In the body user has to provide the name, description, scopes and
          assignees for the new role.
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CreateCompanyRoleDto"
      responses:
        "201":
          description: As a response user gets the message with the information that the
            role has been successfully created.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CompanyRoleCreatedDto"
        "400":
          description: Bad request error is thrown in case if the role with this name in
            the company already exists.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RoleAlreadyExistsException"
      tags: *a5
      security:
        - x-access-token: []
        - basicAuth: []
  /api/roles/update-role:
    patch:
      operationId: RolesController_updateCompanyRole
      summary: Endpoint is responsible for updating the company role.
      parameters: []
      requestBody:
        required: true
        description: In the body user provides the same fields as for role creation.
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UpdateCompanyRoleDto"
      responses:
        "201":
          description: As a response user gets message that the role has been successfully
            updated.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CompanyRoleUpdatedDto"
        "404":
          description: In case if the name of role has been modified and the company does
            not have this role Not Found exception will be thrown.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RoleDoesntExistException"
      tags: *a5
      security:
        - x-access-token: []
        - basicAuth: []
  /api/roles/assign-role:
    patch:
      operationId: RolesController_assignRoleToUser
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/AssignRoleDto"
      responses:
        "200":
          description: ""
      tags: *a5
      security:
        - x-access-token: []
        - basicAuth: []
  /api/roles/revoke-role:
    patch:
      operationId: RolesController_revokeUserRole
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/RevokeRoleDto"
      responses:
        "200":
          description: ""
      tags: *a5
      security:
        - x-access-token: []
        - basicAuth: []
  /api/company-users/invite-user:
    post:
      operationId: CompanyUsersController_inviteUser
      summary: Endpoint is responsible for user invitation to the company.
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/InviteUserToCompanyDto"
      responses:
        "201":
          description: As a response user gets message that user has been invited.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UserInvitedDto"
      tags: &a6
        - Company Users
      security:
        - x-access-token: []
        - basicAuth: []
  /api/company-users/company-member-info:
    get:
      operationId: CompanyUsersController_getCompanyMemberInfo
      summary: Endpoint is responsible for obtaining the information about company
        member by ID.
      parameters:
        - name: memberId
          required: true
          in: query
          description: User (company member) ID.
          schema:
            type: string
      responses:
        "201":
          description: As a response user gets information about company user.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CompanyMemberInfoDto"
        "404":
          description: In case if user ID has been modified and user not found, endpoint
            returns the error of user not found.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CompanyMemberNotFoundException"
      tags: *a6
      security:
        - x-access-token: []
        - basicAuth: []
    patch:
      operationId: CompanyUsersController_updateCompanyMemberInfo
      summary: Endpoint is responsible for updating the information of the company
        member.
      parameters:
        - name: memberId
          required: true
          in: query
          description: User (company member) ID.
          schema:
            type: string
      requestBody:
        required: true
        description: Body contains user personal information.
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UpdateUserInfoDto"
      responses:
        "201":
          description: As a response user gets message that information has been updated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CompanyMemberInfoDto"
        "404":
          description: In case if user ID has been modified and user not found, endpoint
            returns the error of user not found.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CompanyMemberNotFoundException"
      tags: *a6
      security:
        - x-access-token: []
        - basicAuth: []
  /api/company-users/delete-company-member:
    delete:
      operationId: CompanyUsersController_deleteCompanyMember
      summary: Endpoint is responsible for deleting user from the company.
      parameters:
        - name: memberId
          required: true
          in: query
          description: User (company member) ID.
          schema:
            type: string
      requestBody:
        required: true
        description: In the body user has to provide MFA code(s).
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/DeleteCompanyMemberDto"
      responses:
        "201":
          description: In order to perform this action the MFA is required. Therefore,
            except the response that the user has been deleted, the user might
            get the response with the MFA requirement.
          content:
            application/json:
              schema:
                oneOf:
                  - $ref: "#/components/schemas/CompanyMemberDeletedDto"
                  - $ref: "#/components/schemas/FullMfaRequiredDto"
                  - $ref: "#/components/schemas/TokenTwoFaRequiredDto"
                  - $ref: "#/components/schemas/PhoneMfaRequiredDto"
        "404":
          description: In case if memberId was modified, or memberId of the different
            company was provided, endpoint returns not found error message.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CompanyMemberNotFoundException"
      tags: *a6
      security:
        - x-access-token: []
        - basicAuth: []
  /api/company-users/search-company-members:
    get:
      operationId: CompanyUsersController_searchCompanyMembers
      summary: Endpoint is responsible for searching company members.
      parameters:
        - name: query
          required: true
          in: query
          description: Member query
          schema:
            type: string
        - name: page
          required: true
          in: query
          description: Query for page in order to get list of company users.
          schema:
            type: string
        - name: pageSize
          required: true
          in: query
          description: Query for limit in order to get list of company users.
          schema:
            type: string
      responses:
        "201":
          description: As a response user gets the array of users with id and email.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SearchCompanyMembersDto"
      tags: *a6
      security:
        - x-access-token: []
        - basicAuth: []
  /api/security/registration-generate-2fa-qr:
    get:
      operationId: SecurityController_registrationGenerateTwoFaQrCode
      summary: Endpoint is responsible for generating of QR code and secret after
        registration from confirmation hash.
      parameters:
        - name: confirmationHash
          required: true
          in: query
          description: Confirmation hash
          schema:
            type: string
      responses:
        "201":
          description: As a response user gets link to the QR code to scan along with its
            secret that (only after successful confirmation) will be added to
            the database.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/QrCodeDto"
        "404":
          description: Not found error is thrown in case if confirmation hash has not been
            found.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HashNotFoundException"
      tags: &a7
        - Security
      security:
        - basicAuth: []
  /api/security/login-generate-2fa-qr:
    post:
      operationId: SecurityController_loginGenerateTwoFaQrCode
      summary: Endpoint is responsible for generating of QR code and secret while
        login if it was not setup during account confirmation.
      parameters: []
      requestBody:
        required: true
        description: In the body user has to provide credentials - email and password.
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/LoginGenerate2faQrDto"
      responses:
        "201":
          description: As a response user gets link to the QR code to scan along with its
            secret that (only after successful confirmation) will be added to
            the database.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/QrCodeDto"
        "400":
          description: Bad request is thrown in case if user provided wrong credentials.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/WrongCredentialsException"
      tags: *a7
      security:
        - basicAuth: []
  /api/security/generate-2fa-qr:
    get:
      operationId: SecurityController_generateTwoFaQrCode
      summary: Endpoint is responsible for generating QR code and its secret only for
        authenticated users.
      parameters: []
      responses:
        "201":
          description: As a response user gets link to the QR code to scan along with its
            secret that (only after successful confirmation) will be added to
            the database.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/QrCodeDto"
      tags: *a7
      security:
        - x-access-token: []
        - basicAuth: []
  /api/security/registration-verify-2fa:
    post:
      operationId: SecurityController_registrationVerifyTwoFaQrCode
      summary: Endpoint is responsible 2FA verification while confirmation process
        after registration.
      parameters:
        - name: confirmationHash
          required: true
          in: query
          description: Confirmation hash
          schema:
            type: string
      requestBody:
        required: true
        description: In this case body contains 2FA token that was generated on the BE
          and sent to user, and 6-digit code that verifies this token.
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/VerifyTwoFaDto"
      responses:
        "201":
          description: As a response user gets message that 2FA is set and it is added to
            the database.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/MfaSetDto"
        "400":
          description: Bad request is thrown in case if wrong code was provided.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/WrongCodeException"
        "404":
          description: Not found error is thrown in case if confirmation hash has not been
            found.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HashNotFoundException"
      tags: *a7
      security:
        - basicAuth: []
  /api/security/login-verify-2fa:
    post:
      operationId: SecurityController_loginVerifyTwoFaQrCode
      summary: Endpoint is responsible for 2FA verification while login process.
      parameters: []
      requestBody:
        required: true
        description: In this case body contains 2FA token that was generated on the BE
          and sent to user, and 6-digit code that verifies this token along with
          email and password.
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/VerifyTwoFaDto"
      responses:
        "201":
          description: As a response user gets message that 2FA is set and it is added to
            the database.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/MfaSetDto"
        "400":
          description: Bad request error is throws in case if user provided either wrong
            credentials or, if credentials are correct, wrong code.
          content:
            application/json:
              schema:
                oneOf:
                  - $ref: "#/components/schemas/WrongCredentialsException"
                  - $ref: "#/components/schemas/WrongCodeException"
      tags: *a7
      security:
        - basicAuth: []
  /api/security/verify-2fa:
    post:
      operationId: SecurityController_verifyTwoFaQrCode
      summary: Endpoint is responsible for 2FA verification and available only for
        authenticated users.
      parameters: []
      requestBody:
        required: true
        description: In this case body contains 2FA token that was generated on the BE
          and sent to user, and 6-digit code that verifies this token.
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/VerifyTwoFaDto"
      responses:
        "201":
          description: As a response user gets message that 2FA is set and it is added to
            the database.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/MfaSetDto"
        "400":
          description: Bad request error is throws in case if user provided wrong code.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/WrongCodeException"
      tags: *a7
      security:
        - x-access-token: []
        - basicAuth: []
  /api/security/disable-2fa:
    post:
      operationId: SecurityController_disableTwoFa
      summary: Endpoint is responsible for 2FA disable. Available only for
        authenticated users.
      parameters: []
      requestBody:
        required: true
        description: In the body user has to provide 6-digit code.
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/DisableTwoFaDto"
      responses:
        "201":
          description: As a response user gets message that 2FA is disabled.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/MfaDisabledDto"
        "400":
          description: Bad requests are thrown in case if either 2FA or phone is not set
            or wrong code provided.
          content:
            application/json:
              schema:
                oneOf:
                  - $ref: "#/components/schemas/TwoFaNotSetException"
                  - $ref: "#/components/schemas/PhoneNotSetException"
                  - $ref: "#/components/schemas/WrongCodeException"
      tags: *a7
      security:
        - x-access-token: []
        - basicAuth: []
  /api/security/registration-send-sms-code:
    post:
      operationId: SecurityController_registrationSendSmsCode
      summary: Endpoint is responsible for setting MFA (mobile phone) while
        confirmation after registration process.
      parameters:
        - name: confirmationHash
          required: true
          in: query
          schema:
            type: string
      requestBody:
        required: true
        description: In the body user has to provide mobile phone.
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/RegistrationSendSmsCodeDto"
      responses:
        "201":
          description: As a response user gets message that code is sent.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SmsCodeSentDto"
        "400":
          description: Bad request error is thrown in case if mobile phone is already
            taken or user is trying to resent SMS message within wrong
            timeframe.
          content:
            application/json:
              schema:
                oneOf:
                  - $ref: "#/components/schemas/PhoneAlreadyTakenException"
                  - $ref: "#/components/schemas/WrongTimeframeException"
      tags: *a7
      security:
        - basicAuth: []
  /api/security/login-send-sms-code:
    post:
      operationId: SecurityController_loginSendSmsCode
      summary: Endpoint is responsible for sending SMS code as MFA method while
        logging in.
      parameters: []
      requestBody:
        required: true
        description: In the body user has to provide email and password.
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/LoginSendSmsDto"
      responses:
        "201":
          description: As a response user gets message that SMS has been sent.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SmsCodeSentDto"
        "400":
          description: Bad requests error os thrown in case if user provided wrong
            credentials or tried to resent SMS message in wrong timeframe.
          content:
            application/json:
              schema:
                oneOf:
                  - $ref: "#/components/schemas/WrongCredentialsException"
                  - $ref: "#/components/schemas/WrongTimeframeException"
      tags: *a7
      security:
        - basicAuth: []
  /api/security/send-sms-code:
    post:
      operationId: SecurityController_sendSmsCode
      summary: Endpoint is responsible for sending SMS code. Available only for
        authenticated users.
      parameters: []
      requestBody:
        required: true
        description: In the body user has to provide mobile phone.
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/RegistrationSendSmsCodeDto"
      responses:
        "201":
          description: As a response user gets message that SMS has been sent.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SmsCodeSentDto"
        "400":
          description: Bad requests error os thrown in case if user tried to resent SMS
            message in wrong timeframe.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/WrongTimeframeException"
      tags: *a7
      security:
        - x-access-token: []
        - basicAuth: []
  /api/security/hash-send-sms-code:
    get:
      operationId: SecurityController_hashSendSmsCode
      summary: Endpoint is responsible for sending SMS code based on confirmation hash
        while email change confirmation or password reset.
      parameters:
        - name: confirmationHash
          required: true
          in: query
          description: Confirmation hash
          schema:
            type: string
        - name: language
          required: true
          in: query
          description: Language that is going to be user in order to select the language
            of the email template, SMS message etc. Comes from FE localStorage
            from Transloco package.
          schema:
            enum:
              - ru
              - pl
              - en
            type: string
      responses:
        "201":
          description: As a response user gets message that SMS has been sent.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SmsCodeSentDto"
        "400":
          description: Bad request is thrown in case if code was sent in wrong timeframe.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/WrongTimeframeException"
        "404":
          description: Not found error is thrown in case if confirmation hash has not been
            found.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HashNotFoundException"
      tags: *a7
      security:
        - basicAuth: []
  /api/security/get-sms-code:
    get:
      operationId: SecurityController_getSmsCode
      summary: Endpoint is responsible for setting up phone for authenticated users.
      parameters:
        - name: language
          required: true
          in: query
          description: Language that is going to be user in order to select the language
            of the email template, SMS message etc. Comes from FE localStorage
            from Transloco package.
          schema:
            enum:
              - ru
              - pl
              - en
            type: string
      responses:
        "201":
          description: As a response user gets message that SMS has been sent.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SmsCodeSentDto"
        "400":
          description: Bad request error is thrown in case if phone has not set up.
          content:
            application/json:
              schema:
                oneOf:
                  - $ref: "#/components/schemas/PhoneNotSetException"
                  - $ref: "#/components/schemas/WrongTimeframeException"
      tags: *a7
      security:
        - x-access-token: []
        - basicAuth: []
  /api/security/clear-sms-code:
    post:
      operationId: SecurityController_clearSmsCode
      summary: Endpoint is responsible for clearing SMS code.
      parameters: []
      responses:
        "201":
          description: As a response user gets message that SMS is cleared.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SmsClearedDto"
        "400":
          description: Bad request error is thrown in case if phone has not set up.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PhoneNotSetException"
      tags: *a7
      security:
        - x-access-token: []
        - basicAuth: []
  /api/security/registration-verify-mobile-phone:
    post:
      operationId: SecurityController_registrationVerifyMobilePhone
      summary: Endpoint is responsible for verification of mobile phone number while
        confirmation process after registration.
      parameters:
        - name: confirmationHash
          required: true
          in: query
          description: Confirmation hash
          schema:
            type: string
      requestBody:
        required: true
        description: Body contains mobile phone number along with associated with it code.
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/VerifyMobilePhoneDto"
      responses:
        "201":
          description: As a response user gets message that MFA is set.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/MfaSetDto"
        "400":
          description: Bad request error is thrown in case if user provided wrong phone
            (was modified artificially), or wrong code, or SMS code expired.
          content:
            application/json:
              schema:
                oneOf:
                  - $ref: "#/components/schemas/WrongProvidedPhoneException"
                  - $ref: "#/components/schemas/WrongCodeException"
                  - $ref: "#/components/schemas/SmsExpiredException"
        "404":
          description: Not found error is thrown in case if confirmation hash not found.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HashNotFoundException"
      tags: *a7
      security:
        - basicAuth: []
  /api/security/login-verify-mobile-phone:
    post:
      operationId: SecurityController_loginVerifyMobilePhone
      summary: Endpoint is responsible for verification of mobile phone number during
        login.
      parameters: []
      requestBody:
        required: true
        description: Body contains mobile phone number along with associated with it
          code. Because of the fact that this is login, user also has to provide
          email and password.
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/VerifyMobilePhoneDto"
      responses:
        "201":
          description: As a response user gets message that MFA is set.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/MfaSetDto"
        "400":
          description: "Bad request is thrown in following cases: wrong credentials, wrong
            (modified artificially) provided phone number, wrong code, SMS
            expired."
          content:
            application/json:
              schema:
                oneOf:
                  - $ref: "#/components/schemas/WrongCredentialsException"
                  - $ref: "#/components/schemas/WrongProvidedPhoneException"
                  - $ref: "#/components/schemas/WrongCodeException"
                  - $ref: "#/components/schemas/SmsExpiredException"
      tags: *a7
      security:
        - basicAuth: []
  /api/security/verify-mobile-phone:
    post:
      operationId: SecurityController_verifyMobilePhone
      summary: Endpoint is responsible for mobile phone verification. Available only
        for authenticated users.
      parameters: []
      requestBody:
        required: true
        description: Body contains mobile phone number along with associated with it code.
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/VerifyMobilePhoneDto"
      responses:
        "201":
          description: As a response user gets message that MFA is set.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/MfaSetDto"
        "400":
          description: "Bad request is thrown in following cases: wrong (modified
            artificially) provided phone number, wrong code, SMS expired."
          content:
            application/json:
              schema:
                oneOf:
                  - $ref: "#/components/schemas/WrongProvidedPhoneException"
                  - $ref: "#/components/schemas/WrongCodeException"
                  - $ref: "#/components/schemas/SmsExpiredException"
      tags: *a7
      security:
        - x-access-token: []
        - basicAuth: []
  /api/security/disable-phone:
    post:
      operationId: SecurityController_disablePhone
      summary: Endpoint is responsible for token MFA disable.
      parameters: []
      requestBody:
        required: true
        description: Body contains 6-digit code to verify token.
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/DisableTwoFaDto"
      responses:
        "201":
          description: As a response user gets message that token MFA is disabled.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/MfaDisabledDto"
        "400":
          description: "Bad request error is thrown in following cases: phone not set,
            token 2FA not set (either one of them), wrong phone, wrong code or
            SMS expired."
          content:
            application/json:
              schema:
                oneOf:
                  - $ref: "#/components/schemas/PhoneNotSetException"
                  - $ref: "#/components/schemas/TwoFaNotSetException"
                  - $ref: "#/components/schemas/WrongProvidedPhoneException"
                  - $ref: "#/components/schemas/WrongCodeException"
                  - $ref: "#/components/schemas/SmsExpiredException"
      tags: *a7
      security:
        - x-access-token: []
        - basicAuth: []
  /api/security/delete-account:
    delete:
      operationId: SecurityController_deleteUserAccount
      summary: Endpoint is responsible for account deletion.
      parameters: []
      requestBody:
        required: true
        description: Body includes credentials, MFA code(s), and full name as deletion
          confirmation.
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/DeleteAccountDto"
      responses:
        "201":
          description: "Responses include following: MFA required, deletion confirmation
            required, or account deleted."
          content:
            application/json:
              schema:
                oneOf:
                  - $ref: "#/components/schemas/AccountDeletedDto"
                  - $ref: "#/components/schemas/FullMfaRequiredDto"
                  - $ref: "#/components/schemas/TokenTwoFaRequiredDto"
                  - $ref: "#/components/schemas/PhoneMfaRequiredDto"
                  - $ref: "#/components/schemas/DeleteConfirmationRequiredDto"
        "400":
          description: "Bad request is thrown in following cases: wrong credentials, wrong
            deletion confirmation, or wrong MFA code"
          content:
            application/json:
              schema:
                oneOf:
                  - $ref: "#/components/schemas/WrongCredentialsException"
                  - $ref: "#/components/schemas/WrongDeletionConfirmationException"
                  - $ref: "#/components/schemas/WrongCodeException"
      tags: *a7
      security:
        - x-access-token: []
        - basicAuth: []
  /api/security/change-password:
    patch:
      operationId: SecurityController_changePassword
      summary: Endpoint is responsible for password change.
      parameters: []
      requestBody:
        required: true
        description: Body contains current password, new password, MFA code(s).
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ChangePasswordDto"
      responses:
        "201":
          description: "Responses include following: MFA required or password changed."
          content:
            application/json:
              schema:
                oneOf:
                  - $ref: "#/components/schemas/FullMfaRequiredDto"
                  - $ref: "#/components/schemas/TokenTwoFaRequiredDto"
                  - $ref: "#/components/schemas/PhoneMfaRequiredDto"
                  - $ref: "#/components/schemas/PasswordChangedDto"
        "400":
          description: "Bad request is thrown in following cases: wrong credentials, wrong
            MFA code, SMS expired, or password was change (wrong timeframe) or
            previous password is used."
          content:
            application/json:
              schema:
                oneOf:
                  - $ref: "#/components/schemas/PasswordChangedException"
                  - $ref: "#/components/schemas/WrongCredentialsException"
                  - $ref: "#/components/schemas/PreviousPasswordException"
                  - $ref: "#/components/schemas/WrongCodeException"
                  - $ref: "#/components/schemas/SmsExpiredException"
      tags: *a7
      security:
        - x-access-token: []
        - basicAuth: []
  /api/security/change-email:
    post:
      operationId: SecurityController_changeEmail
      summary: Endpoint is responsible for email change.
      parameters: []
      requestBody:
        required: true
        description: User has to provide new email.
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ChangeEmailDto"
      responses:
        "201":
          description: As a response user gets the message that confirmation email for
            email change has been sent.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EmailChangeEmailSentDto"
        "400":
          description: Bad request error is thrown in case if email is already taken.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EmailAlreadyTakenException"
        "403":
          description: Forbidden error is thrown in case if email is already changed.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EmailAlreadyChangedException"
      tags: *a7
      security:
        - x-access-token: []
        - basicAuth: []
  /api/recovery/registration-generate-recovery-keys:
    post:
      operationId: RecoveryController_registrationGenerateRecoveryKeys
      summary: Endpoint is responsible for generating of recovery keys while
        registration.
      parameters:
        - name: confirmationHash
          required: true
          in: query
          description: Confirmation hash
          schema:
            type: string
      requestBody:
        required: true
        description: In order to generate the set of recovery keys user has to send
          passphrase that is going to be used in order to encrypt the set.
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/GenerateRecoveryKeysDto"
      responses:
        "201":
          description: As a response function returns list of recovery keys.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RecoveryKeysResponseDto"
        "404":
          description: Not found exceptions are thrown in case if either hash not found.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HashNotFoundException"
      tags: &a8
        - Recovery
      security:
        - basicAuth: []
  /api/recovery/login-generate-recovery-keys:
    post:
      operationId: RecoveryController_loginGenerateRecoveryKeys
      summary: Endpoint is responsible for generating of recovery keys while login, if
        keys were not generated while confirmation.
      parameters: []
      requestBody:
        required: true
        description: In order to generate the set of recovery keys user has to send
          passphrase that is going to be used in order to encrypt the set. Since
          it is a login, user also has to provide email and password.
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/LoginGenerateRecoveryKeysDto"
      responses:
        "201":
          description: As a response function returns list of recovery keys.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RecoveryKeysResponseDto"
        "400":
          description: Bad request error is thrown in case if user has provided wrong
            credentials.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/WrongCredentialsException"
      tags: *a8
      security:
        - basicAuth: []
  /api/recovery/generate-recovery-keys:
    post:
      operationId: RecoveryController_generateRecoveryKeys
      summary: Endpoint is responsible for generating recovery keys.
      parameters: []
      requestBody:
        required: true
        description: In the request body user has to provide only passphrase in order to
          encrypt and get fingerprint of set of recovery keys.
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/GenerateRecoveryKeysDto"
      responses:
        "201":
          description: As a response function returns list of recovery keys.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RecoveryKeysResponseDto"
      tags: *a8
      security:
        - x-access-token: []
        - basicAuth: []
  /api/recovery/recover-account:
    post:
      operationId: RecoveryController_recoverUserAccount
      summary: Endpoint is responsible for account recovery.
      parameters: []
      requestBody:
        required: true
        description: In the body user provides recovery keys and passphrase for recovery
          keys.
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/RecoverAccountDto"
      responses:
        "201":
          description: As a response user gets the response that account has been
            successfully recovered. Meanwhile function resets MFA (both token
            and phone). While first login after reset user will have to set up
            new MFA and set of recovery keys.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AccountRecoveredDto"
        "400":
          description: If there is recovery keys fingerprint mismatch, bad request will be
            thrown.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/WrongRecoveryKeysException"
      tags: *a8
      security:
        - basicAuth: []
  /api/products/product:
    get:
      operationId: ProductsController_getProductBySlug
      summary: Endpoint is responsible for getting the product by the slug.
      parameters:
        - name: slug
          required: true
          in: query
          description: Slug that is used in order to get the product by slug.
          schema:
            type: string
      responses:
        "200":
          description: As an endpoint user gets an instance of the product.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ProductBySlugDto"
      tags: &a9
        - Products
      security:
        - basicAuth: []
  /api/products/latest-products:
    get:
      operationId: ProductsController_getLatestProducts
      parameters: []
      responses:
        "200":
          description: ""
      tags: *a9
      security:
        - basicAuth: []
  /api/products/search-product:
    get:
      operationId: ProductsController_searchProduct
      parameters:
        - name: query
          required: true
          in: query
          schema:
            type: string
        - name: page
          required: true
          in: query
          schema:
            type: string
        - name: pageSize
          required: true
          in: query
          schema:
            type: string
      responses:
        "200":
          description: ""
      tags: *a9
      security:
        - basicAuth: []
  /api/products/create-product:
    post:
      operationId: ProductsController_createProduct
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/PostProductDto"
      responses:
        "201":
          description: ""
      tags: *a9
      security:
        - x-access-token: []
        - basicAuth: []
  /api/categories/all-categories:
    get:
      operationId: CategoriesController_getAllCategories
      summary: Endpoint is responsible for getting all categories.
      parameters: []
      responses:
        "200":
          description: As a response user gets the array of the all categories along with
            subcategories
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/GetAllCategoriesDto"
      tags:
        - Categories
      security:
        - basicAuth: []
info:
  title: Mnemosyne
  description: Documentation of Mnemosyne API.
  version: 0.0.1
  contact: {}
tags: []
servers: []
components:
  securitySchemes:
    x-access-token:
      scheme: bearer
      bearerFormat: JWT
      description: "Please enter the JWT token in the following format: Bearer <JWT>"
      name: x-access-token
      type: apiKey
      in: header
    basicAuth:
      type: http
      scheme: basic
      description: Basic API authentication username and password
      in: header
  schemas:
    ResetPasswordEmailDto:
      type: object
      properties:
        message:
          type: string
          description: Reset password email sent response message
          example: reset-password-email-sent
      required:
        - message
    ForgotPasswordDto:
      type: object
      properties:
        email:
          type: string
          description: Email address
          example: joe@doe.com
        language:
          type: string
          enum:
            - ru
            - pl
            - en
          description: One of 3 available languages
          example: pl
      required:
        - email
    PasswordChangedException:
      type: object
      properties:
        message:
          type: string
          description: Password already changed error message
          example: password-already-changed
      required:
        - message
    WrongTimeframeException:
      type: object
      properties:
        message:
          type: string
          description: Wrong timeframe error message
          example: wrong-timeframe
      required:
        - message
    PhotoUploadedDto:
      type: object
      properties:
        message:
          type: string
          description: Photo uploaded response message
          example: photo-uploaded
      required:
        - message
    UploadPhotoDto:
      type: object
      properties:
        userPhoto:
          type: string
          description: User base64-encoded images
          example: data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4...
      required:
        - userPhoto
    WrongPictureException:
      type: object
      properties:
        message:
          type: string
          description: Wrong picture format error message
          example: wrong-picture-format
      required:
        - message
    GetUserInfoResponseDto:
      type: object
      properties:
        userId:
          type: string
          description: User ID
          example: 4eea51f7-ebf1-4470-b54e-eb3b8c79bf2c
        firstName:
          type: string
          description: First name
          example: Joe
        lastName:
          type: string
          description: Last name
          example: Doe
        email:
          type: string
          description: Email address
          example: joe@doe.com
        isProfilePicPresent:
          type: boolean
          description: Is user profile picture present
          example: "true"
        namePronunciation:
          type: string
          description: This could be a phonetic pronunciation, or an example of something
            your name sounds like
          example: Zoe ("zo-ee")
        homeAddress:
          type: string
          description: User home address
          example: One Apple Park Way, United States
        homePhone:
          type: string
          description: User home phone
          example: (800) 1231-1234
        isCompanyMember:
          type: boolean
          description: Flag if the user is company member
          example: "false"
      required:
        - userId
        - firstName
        - lastName
        - email
        - isProfilePicPresent
        - namePronunciation
        - homeAddress
        - homePhone
        - isCompanyMember
    PhoneStatus:
      type: object
      properties:
        isSetUp:
          type: boolean
          description: Phone setup - is phone set up
          example: "true"
        twoLastDigit:
          type: string
          description: Phone setup - 2 last digits
          example: "12"
      required:
        - isSetUp
        - twoLastDigit
    GetUserSecResponseDto:
      type: object
      properties:
        phoneStatus:
          $ref: "#/components/schemas/PhoneStatus"
        passwordCanBeChanged:
          type: boolean
          description: Password can be changed
          example: "true"
        emailChanged:
          type: boolean
          description: Is email changed
          example: "true"
        isTwoFaSetUp:
          type: boolean
          description: Is 2FA set up
          example: "true"
        email:
          type: string
          description: Email address
          example: joe@doe.com
      required:
        - phoneStatus
        - passwordCanBeChanged
        - emailChanged
        - isTwoFaSetUp
        - email
    UserUpdatedDto:
      type: object
      properties:
        message:
          type: string
          description: User updated response message
          example: user-updated
      required:
        - message
    UpdateUserInfoDto:
      type: object
      properties:
        firstName:
          type: string
          description: First name
          example: Joe
        lastName:
          type: string
          description: Last name
          example: Doe
        namePronunciation:
          type: string
          description: This could be a phonetic pronunciation, or an example of something
            your name sounds like
          example: Zoe ("zo-ee")
        homeAddress:
          type: string
          description: User home address
          example: One Apple Park Way, United States
        homePhone:
          type: string
          description: User home phone
          example: (800) 1231-1234
    AccountConfirmedDto:
      type: object
      properties:
        message:
          type: string
          description: Account confirmed response message
          example: account-confirmed
      required:
        - message
    MfaNotSetDto:
      type: object
      properties:
        message:
          type: string
          description: MFA not set response message
          example: mfa-not-set
      required:
        - message
    RecoveryKeysNotSetDto:
      type: object
      properties:
        message:
          type: string
          description: Recovery keys not set response message
          example: recovery-keys-not-set
      required:
        - message
    AccountAlreadyConfirmedException:
      type: object
      properties:
        message:
          type: string
          description: Account already confirmed error message
          example: account-already-confirmed
      required:
        - message
    UserDataNotSetDto:
      type: object
      properties:
        message:
          type: string
          description: User data not set response message
          example: user-data-not-set
      required:
        - message
    PasswordNotSetDto:
      type: object
      properties:
        message:
          type: string
          description: Password not set response message
          example: password-not-set
      required:
        - message
    CompanyAccountConfirmedDto:
      type: object
      properties:
        message:
          type: string
          description: Company account confirmed response message
          example: company-account-confirmed
      required:
        - message
    HashNotFoundException:
      type: object
      properties:
        message:
          type: string
          description: Hash not found error message
          example: hash-not-found
      required:
        - message
    ConfirmCompanyAccDto:
      type: object
      properties:
        firstName:
          type: string
          description: First name
          example: Joe
        lastName:
          type: string
          description: Last name
          example: Doe
        password:
          type: string
          description: User password
          example: 78ui&*UI
        language:
          type: string
          enum:
            - ru
            - pl
            - en
          description: One of 3 available languages
          example: pl
    CompanyMemberAccConfirmedDto:
      type: object
      properties:
        message:
          type: string
          description: Company member account confirmed response message
          example: company-member-acc-confirmed
      required:
        - message
    EmailChangedDto:
      type: object
      properties:
        message:
          type: string
          description: Email changed response message
          example: email-changed
      required:
        - message
    FullMfaRequiredDto:
      type: object
      properties:
        message:
          type: string
          description: Full MFA (token + phone) required response message
          example: full-mfa-required
      required:
        - message
    TokenTwoFaRequiredDto:
      type: object
      properties:
        message:
          type: string
          description: Token MFA required response message
          example: token-two-fa-required
      required:
        - message
    PhoneMfaRequiredDto:
      type: object
      properties:
        message:
          type: string
          description: Phone MFA required response message
          example: phone-required
      required:
        - message
    LinkExpiredException:
      type: object
      properties:
        message:
          type: string
          description: Link expired error message
          example: link-expired
      required:
        - message
    SmsExpiredException:
      type: object
      properties:
        message:
          type: string
          description: SMS expired error message
          example: sms-expired
      required:
        - message
    WrongCredentialsException:
      type: object
      properties:
        message:
          type: string
          description: Wrong credentials error message
          example: wrong-credentials
      required:
        - message
    WrongCodeException:
      type: object
      properties:
        message:
          type: string
          description: Wrong code error message
          example: wrong-code
      required:
        - message
    ConfirmEmailChangeDto:
      type: object
      properties:
        password:
          type: string
          description: User password
          example: 78ui&*UI
        mfaCode:
          type: string
          description: User authentication application code - MFA
          example: "123123"
        phoneCode:
          type: string
          description: User phone code - MFA
          example: "123123"
        language:
          type: string
          enum:
            - ru
            - pl
            - en
          description: One of 3 available languages
          example: pl
    PasswordResetDto:
      type: object
      properties:
        message:
          type: string
          description: Password reset response message
          example: password-reset
      required:
        - message
    PreviousPasswordException:
      type: object
      properties:
        message:
          type: string
          description: Previous password error message
          example: previous-password
      required:
        - message
    ResetUserPasswordDto:
      type: object
      properties:
        password:
          type: string
          description: Email address
          example: joe@doe.com
        mfaCode:
          type: string
          description: User authentication application code - MFA
          example: "123123"
        phoneCode:
          type: string
          description: User authentication application code - MFA
          example: "123123"
        language:
          type: string
          enum:
            - ru
            - pl
            - en
          description: One of 3 available languages
          example: pl
    LogInUserResponseDto:
      type: object
      properties:
        _at:
          type: string
          description: Access JWT token
          example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJyb2xlcyI6WyJERUZBVUxUIl0sInVzZXJJZCI6IjU4NGE3MzYzLWYxMmYtNGYxMy04NmQ1LTgxZWEwNzI5Y2I1MSIsInR5cGUiOiJhY2Nlc3MiLCJpYXQiOjE2OTMxMzc2MDYsImV4cCI6MTY5MzE0NDgwNn0.c29vRfkNAbYi1stsn5EsN0N7ruUKrzkZe7RZpUDwu0U
        _rt:
          type: string
          description: Refresh JWT token
          example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImQwNjY5MzYxLTc3ODgtNGJlNC05ZWNkLTAxNjcyM2FjMWU2MyIsInR5cGUiOiJyZWZyZXNoIiwiaWF0IjoxNjkzMTM3NjA2LCJleHAiOjE2OTM3NDI0MDZ9.eLt3U9RFbh_iRy1MpH30VIyCSMp6mxEw1Yw9MLEsvGU
      required:
        - _at
        - _rt
    AccountNotConfirmedException:
      type: object
      properties:
        message:
          type: string
          description: Account not confirmed error message
          example: account-not-confirmed
      required:
        - message
    LogInUserDto:
      type: object
      properties:
        email:
          type: string
          description: Email address
          example: joe@doe.com
        password:
          type: string
          description: User password
          example: 78ui&*UI
        phoneCode:
          type: string
          description: User phone code - MFA
          example: "123123"
        mfaCode:
          type: string
          description: User authentication application code - MFA
          example: "123123"
      required:
        - email
        - password
    UserCreatedDto:
      type: object
      properties:
        message:
          type: string
          description: User created response message
          example: user-created
      required:
        - message
    UserAlreadyExistsException:
      type: object
      properties:
        message:
          type: string
          description: User already exists error message
          example: user-already-exists
      required:
        - message
    TacNotAcceptedException:
      type: object
      properties:
        message:
          type: string
          description: T&C not accepted error message
          example: tac-not-accepted
      required:
        - message
    CreateUserDto:
      type: object
      properties:
        email:
          type: string
          description: Email address
          example: joe@doe.com
        password:
          type: string
          description: User password
          example: 78ui&*UI
        firstName:
          type: string
          description: First name
          example: Joe
        lastName:
          type: string
          description: Last name
          example: Doe
        tac:
          type: boolean
          description: Terms & Conditions
          example: "true"
        language:
          type: string
          enum:
            - ru
            - pl
            - en
          description: One of 3 available languages
          example: pl
        namePronunciation:
          type: string
          description: This could be a phonetic pronunciation, or an example of something
            your name sounds like
          example: Zoe ("zo-ee")
        homeAddress:
          type: string
          description: User home address
          example: One Apple Park Way, United States
        homePhone:
          type: string
          description: User home phone
          example: (800) 1231-1234
      required:
        - email
        - password
        - firstName
        - lastName
        - tac
    LoggedOutDto:
      type: object
      properties:
        message:
          type: string
          description: User logged out response message
          example: user-logged-out
      required:
        - message
    CorruptedTokenException:
      type: object
      properties:
        message:
          type: string
          description: Corrupted token error message
          example: corrupted-token
      required:
        - message
    InvalidTokenException:
      type: object
      properties:
        message:
          type: string
          description: Invalid token error message
          example: invalid-token
      required:
        - message
    ExpiredTokenException:
      type: object
      properties:
        message:
          type: string
          description: Token expired error message
          example: token-expired
      required:
        - message
    ContactMessageSentDto:
      type: object
      properties:
        message:
          type: string
          description: Contact message sent response message
          example: contact-message-sent
      required:
        - message
    ContactUsDto:
      type: object
      properties:
        contactEmail:
          type: string
          description: Email address
          example: joe@doe.com
        contactMessage:
          type: string
          description: Contact Us message
          example: Thank you!
        language:
          type: string
          enum:
            - ru
            - pl
            - en
          description: One of 3 available languages
          example: pl
      required:
        - contactEmail
        - contactMessage
    CreateCompanyDto:
      type: object
      properties:
        companyLocation:
          type: string
          description: Company location
          example: Cupertino, CA 95014
        companyName:
          type: string
          description: Company name
          example: Apple Inc.
        companyWebsite:
          type: string
          description: Company website
          example: apple.com
        companyOwnerEmail:
          type: string
          description: Email address
          example: joe@doe.com
        companyMembers:
          description: List of company members
          example:
            - email: tim.cook@icloud.com
              role: DEFAULT
          type: array
          items:
            type: array
        tac:
          type: boolean
          description: Terms & Conditions
          example: "true"
        language:
          type: string
          enum:
            - ru
            - pl
            - en
          description: One of 3 available languages
          example: pl
      required:
        - companyLocation
        - companyName
        - companyWebsite
        - companyOwnerEmail
        - tac
    CompanyCreatedDto:
      type: object
      properties:
        message:
          type: string
          description: "Company created response message "
          example: company-created
      required:
        - message
    CompanyExistsException:
      type: object
      properties:
        message:
          type: string
          description: Company already exists error message
          example: company-already-exists
      required:
        - message
    GetCompanyByIdDto:
      type: object
      properties:
        companyName:
          type: string
          description: Company name
          example: Apple Inc.
        companyLocation:
          type: string
          description: Company location
          example: Cupertino, CA 95014
        companyWebsite:
          type: string
          description: Company website
          example: apple.com
        companyOwnerId:
          type: string
          description: User ID
          example: 4eea51f7-ebf1-4470-b54e-eb3b8c79bf2c
        companyOwnerEmail:
          type: string
          description: Email address
          example: joe@doe.com
      required:
        - companyName
        - companyLocation
        - companyWebsite
        - companyOwnerId
        - companyOwnerEmail
    GetCompanyUsersDto:
      type: object
      properties:
        companyUsers:
          description: List of company users (id and email)
          example:
            - id: 4eea51f7-ebf1-4470-b54e-eb3b8c79bf2c
              email: joe@doe.com
              roles:
                - id: 4eea51f7-ebf1-4470-b54e-eb3b8c79bf8c
                  name: PRIMARY_ADMIN
              registrationHash:
                confirmed: "false"
                createdAt: 2023-11-17T11:42:26.534Z
          type: array
          items:
            type: array
        count:
          type: number
          description: Count for the pagination
          example: "5"
      required:
        - companyUsers
        - count
    ParseException:
      type: object
      properties:
        message:
          type: string
          description: Parse exception
          example: parse-error
      required:
        - message
    CompanyUpdatedDto:
      type: object
      properties:
        message:
          type: string
          description: Company update response message
          example: company-updated
      required:
        - message
    UpdateCompanyDto:
      type: object
      properties:
        companyLocation:
          type: string
          description: Company location
          example: Cupertino, CA 95014
        companyName:
          type: string
          description: Company name
          example: Apple Inc.
        companyWebsite:
          type: string
          description: Company website
          example: apple.com
      required:
        - companyLocation
        - companyName
        - companyWebsite
    TransferOwnershipDto:
      type: object
      properties:
        newCompanyOwnerEmail:
          type: string
          description: Email address
          example: joe@doe.com
        mfaCode:
          type: string
          description: User authentication application code - MFA
          example: "123123"
        phoneCode:
          type: string
          description: User phone code - MFA
          example: "123123"
        language:
          type: string
          enum:
            - ru
            - pl
            - en
          description: One of 3 available languages
          example: pl
      required:
        - newCompanyOwnerEmail
    DeleteCompanyDto:
      type: object
      properties:
        password:
          type: string
          description: User password
          example: 78ui&*UI
        passphrase:
          type: string
          description: Passphrase
          example: "123123123"
        recoveryKeys:
          description: List of recovery keys
          example:
            - e54ee7e285fbb....*length 1024*
            - e54ee7e285fbb....*length 1024*
            - e54ee7e285fbb....*length 1024*
            - e54ee7e285fbb....*length 1024*
            - e54ee7e285fbb....*length 1024*
          type: array
          items:
            type: array
            maxLength: 5
            minLength: 5
        mfaCode:
          type: string
          description: User authentication application code - MFA
          example: "123123"
        phoneCode:
          type: string
          description: User authentication application code - MFA
          example: "123123"
        language:
          type: string
          enum:
            - ru
            - pl
            - en
          description: One of 3 available languages
          example: pl
      required:
        - password
        - passphrase
        - recoveryKeys
    CompanyDeletedDto:
      type: object
      properties:
        message:
          type: string
          description: Company deleted response message
          example: company-deleted
      required:
        - message
    WrongRecoveryKeysException:
      type: object
      properties:
        message:
          type: string
          description: Wrong recovery keys error message
          example: wrong-recovery-keys
      required:
        - message
    GetCompanyRolesDto:
      type: object
      properties:
        companyRoles:
          description: Getting company roles response
          example:
            - name: My Test Role
              description: My Test Role Description
              roleScope:
                - USER_MANAGEMENT
          type: array
          items:
            type: array
      required:
        - companyRoles
    CreateCompanyRoleDto:
      type: object
      properties:
        name:
          type: string
          description: Company custom role name
          example: My Test Role
        description:
          type: string
          description: Company custom role description
          example: My Test Role Description
        roleScopes:
          description: The array of the scopes for company custom role
          example:
            - USER_MANAGEMENT
          type: array
          items:
            type: array
        roleAssignees:
          description: The array with user IDs for new role
          example:
            - 4eea51f7-ebf1-4470-b54e-eb3b8c79bf2c
          type: array
          items:
            type: array
      required:
        - name
        - description
        - roleScopes
        - roleAssignees
    CompanyRoleCreatedDto:
      type: object
      properties:
        message:
          type: string
          description: Company role created response message
          example: company-role-created
      required:
        - message
    RoleAlreadyExistsException:
      type: object
      properties:
        message:
          type: string
          description: Role already exists error message
          example: role-already-exists
      required:
        - message
    UpdateCompanyRoleDto:
      type: object
      properties:
        name:
          type: string
          description: Company custom role name
          example: My Test Role
        description:
          type: string
          description: Company custom role description
          example: My Test Role Description
        roleScopes:
          description: The array of the scopes for company custom role
          example:
            - USER_MANAGEMENT
          type: array
          items:
            type: array
      required:
        - name
        - description
        - roleScopes
    CompanyRoleUpdatedDto:
      type: object
      properties:
        message:
          type: string
          description: Company role updated response message
          example: company-role-updated
      required:
        - message
    RoleDoesntExistException:
      type: object
      properties:
        message:
          type: string
          description: Roles does not exist error message
          example: role-doesnt-exists
      required:
        - message
    AssignRoleDto:
      type: object
      properties: {}
    RevokeRoleDto:
      type: object
      properties: {}
    InviteUserToCompanyDto:
      type: object
      properties:
        email:
          type: string
          description: Email address
          example: joe@doe.com
        role:
          type: string
          enum:
            - PRIMARY_ADMIN
            - ADMIN
            - DEFAULT
          description: Available user members
        language:
          type: string
          enum:
            - ru
            - pl
            - en
          description: One of 3 available languages
          example: pl
      required:
        - email
        - role
    UserInvitedDto:
      type: object
      properties:
        message:
          type: string
          description: User invited response message
          example: user-invited
      required:
        - message
    CompanyMemberInfoDto:
      type: object
      properties:
        memberId:
          type: string
          description: User ID
          example: 4eea51f7-ebf1-4470-b54e-eb3b8c79bf2c
        email:
          type: string
          description: Email address
          example: joe@doe.com
        firstName:
          type: string
          description: First name
          example: Joe
        lastName:
          type: string
          description: Last name
          example: Doe
        namePronunciation:
          type: string
          description: This could be a phonetic pronunciation, or an example of something
            your name sounds like
          example: Zoe ("zo-ee")
        homeAddress:
          type: string
          description: User home address
          example: One Apple Park Way, United States
        homePhone:
          type: string
          description: User home phone
          example: (800) 1231-1234
      required:
        - memberId
        - email
        - firstName
        - lastName
        - namePronunciation
        - homeAddress
        - homePhone
    CompanyMemberNotFoundException:
      type: object
      properties:
        message:
          type: string
          description: Company member not found error message
          example: company-member-not-found
      required:
        - message
    DeleteCompanyMemberDto:
      type: object
      properties:
        phoneCode:
          type: string
          description: User phone code - MFA
          example: "123123"
        mfaCode:
          type: string
          description: User authentication application code - MFA
          example: "123123"
        language:
          type: string
          enum:
            - ru
            - pl
            - en
          description: One of 3 available languages
          example: pl
    CompanyMemberDeletedDto:
      type: object
      properties:
        message:
          type: string
          description: Company member deleted from the company response message
          example: company-member-deleted
      required:
        - message
    SearchCompanyMembersDto:
      type: object
      properties:
        companyMembers:
          description: Array with the id of the user and their emails
          example:
            - companyUserId: 4eea51f7-ebf1-4470-b54e-eb3b8c79bf2c
              email: joe@doe.com
          type: array
          items:
            type: array
      required:
        - companyMembers
    QrCodeDto:
      type: object
      properties:
        qr:
          type: string
          description: Link that leads to QR code to scan (via Google API)
          example: https://chart.googleapis.com/chart?chs=166x166&chld=L|0&cht=qr&chl=otpauth://totp/Mnemosyne%3Amikhail.bahdashych%40gmail.com%3Fsecret=7BEEKMUDHULQVZYE7LQYR2R4BDP5NJJA%26issuer=Mnemosyne
        secret:
          type: string
          description: 2FA token
          example: 7BEEKMUDHULQVZYE7LQYR2R4BDP5NJJA
      required:
        - qr
        - secret
    LoginGenerate2faQrDto:
      type: object
      properties:
        email:
          type: string
          description: Email address
          example: joe@doe.com
        password:
          type: string
          description: User password
          example: 78ui&*UI
      required:
        - email
        - password
    VerifyTwoFaDto:
      type: object
      properties:
        code:
          type: string
          description: User authentication application code - MFA
          example: "123123"
        twoFaToken:
          type: string
          description: 2FA token
          example: 7BEEKMUDHULQVZYE7LQYR2R4BDP5NJJA
        email:
          type: string
          description: Email address
          example: joe@doe.com
        password:
          type: string
          description: User password
          example: 78ui&*UI
      required:
        - code
        - twoFaToken
    MfaSetDto:
      type: object
      properties:
        message:
          type: string
          description: MFA set response message
          example: mfa-set
      required:
        - message
    DisableTwoFaDto:
      type: object
      properties:
        code:
          type: string
          description: User authentication application code - MFA
          example: "123123"
      required:
        - code
    MfaDisabledDto:
      type: object
      properties:
        message:
          type: string
          description: MFA disabled response message
          example: mfa-disabled
      required:
        - message
    TwoFaNotSetException:
      type: object
      properties:
        message:
          type: string
          description: 2FA not set up error message
          example: two-fa-not-set-up
      required:
        - message
    PhoneNotSetException:
      type: object
      properties:
        message:
          type: string
          description: Phone not set up error message
          example: phone-not-set-up
      required:
        - message
    RegistrationSendSmsCodeDto:
      type: object
      properties:
        phone:
          type: string
          description: Phone
          example: "+48123123123"
        language:
          type: string
          enum:
            - ru
            - pl
            - en
          description: One of 3 available languages
          example: pl
      required:
        - phone
    SmsCodeSentDto:
      type: object
      properties:
        message:
          type: string
          description: SMS code sent response message
          example: sms-code-sent
      required:
        - message
    PhoneAlreadyTakenException:
      type: object
      properties:
        message:
          type: string
          description: Phone already taken error message
          example: phone-already-taken
      required:
        - message
    LoginSendSmsDto:
      type: object
      properties:
        email:
          type: string
          description: Email address
          example: joe@doe.com
        password:
          type: string
          description: User password
          example: 78ui&*UI
        language:
          type: string
          enum:
            - ru
            - pl
            - en
          description: One of 3 available languages
          example: pl
      required:
        - email
        - password
    SmsClearedDto:
      type: object
      properties:
        message:
          type: string
          description: SMS cleared response message
          example: sms-cleared
      required:
        - message
    VerifyMobilePhoneDto:
      type: object
      properties:
        phone:
          type: string
          description: Phone
          example: "+48123123123"
        code:
          type: string
          description: User authentication application code - MFA
          example: "123123"
        email:
          type: string
          description: Email address
          example: joe@doe.com
        password:
          type: string
          description: User password
          example: 78ui&*UI
      required:
        - phone
        - code
    WrongProvidedPhoneException:
      type: object
      properties:
        message:
          type: string
          description: Wrong provided phone error message
          example: wrong-provided-phone
      required:
        - message
    DeleteAccountDto:
      type: object
      properties:
        password:
          type: string
          description: User password
          example: 78ui&*UI
        mfaCode:
          type: string
          description: User authentication application code - MFA
          example: "123123"
        phoneCode:
          type: string
          description: User authentication application code - MFA
          example: "123123"
        fullName:
          type: string
          description: Full name
          example: Joe Doe
      required:
        - password
    AccountDeletedDto:
      type: object
      properties:
        message:
          type: string
          description: Account deleted response message
          example: account-deleted
      required:
        - message
    DeleteConfirmationRequiredDto:
      type: object
      properties:
        message:
          type: string
          description: Delete confirmation required response message
          example: delete-confirmation-required
      required:
        - message
    WrongDeletionConfirmationException:
      type: object
      properties:
        message:
          type: string
          description: Wrong deletion confirmation error message
          example: wrong-deletion-confirmation
      required:
        - message
    ChangePasswordDto:
      type: object
      properties:
        currentPassword:
          type: string
          description: User password
          example: 78ui&*UI
        newPassword:
          type: string
          description: User password
          example: 78ui&*UI
        mfaCode:
          type: string
          description: User authentication application code - MFA
          example: "123123"
        phoneCode:
          type: string
          description: User authentication application code - MFA
          example: "123123"
      required:
        - currentPassword
        - newPassword
    PasswordChangedDto:
      type: object
      properties:
        message:
          type: string
          description: Password changed response message
          example: password-changed
      required:
        - message
    ChangeEmailDto:
      type: object
      properties:
        newEmail:
          type: string
          description: Email address
          example: joe@doe.com
        language:
          type: string
          enum:
            - ru
            - pl
            - en
          description: One of 3 available languages
          example: pl
      required:
        - newEmail
    EmailChangeEmailSentDto:
      type: object
      properties:
        message:
          type: string
          description: Email change email set response message
          example: email-change-email-sent
      required:
        - message
    EmailAlreadyChangedException:
      type: object
      properties:
        message:
          type: string
          description: Email already changed error message
          example: email-already-changed
      required:
        - message
    EmailAlreadyTakenException:
      type: object
      properties:
        message:
          type: string
          description: Email already taken error message
          example: email-already-taken
      required:
        - message
    RecoveryKeysResponseDto:
      type: object
      properties:
        recoveryKeys:
          description: List of recovery keys
          example:
            - e54ee7e285fbb....*length 1024*
            - e54ee7e285fbb....*length 1024*
            - e54ee7e285fbb....*length 1024*
            - e54ee7e285fbb....*length 1024*
            - e54ee7e285fbb....*length 1024*
          type: array
          items:
            type: array
            maxLength: 5
            minLength: 5
      required:
        - recoveryKeys
    GenerateRecoveryKeysDto:
      type: object
      properties:
        passphrase:
          type: string
          description: Passphrase
          example: "123123123"
      required:
        - passphrase
    LoginGenerateRecoveryKeysDto:
      type: object
      properties:
        passphrase:
          type: string
          description: Passphrase
          example: "123123123"
        email:
          type: string
          description: Email address
          example: joe@doe.com
        password:
          type: string
          description: User password
          example: 78ui&*UI
      required:
        - passphrase
        - email
        - password
    RecoverAccountDto:
      type: object
      properties:
        passphrase:
          type: string
          description: Passphrase
          example: "123123123"
        recoveryKeys:
          description: List of recovery keys
          example:
            - e54ee7e285fbb....*length 1024*
            - e54ee7e285fbb....*length 1024*
            - e54ee7e285fbb....*length 1024*
            - e54ee7e285fbb....*length 1024*
            - e54ee7e285fbb....*length 1024*
          type: array
          items:
            type: array
            maxLength: 5
            minLength: 5
      required:
        - passphrase
        - recoveryKeys
    AccountRecoveredDto:
      type: object
      properties:
        message:
          type: string
          description: Account recovered response message
          example: account-recovered
      required:
        - message
    Product:
      type: object
      properties: {}
    ProductBySlugDto:
      type: object
      properties:
        product:
          description: Product instance by the slug
          example:
            title: My product
            description: travels_docs
            pictures:
              - asd
            currency: PLN
            price: "15000"
            subcategory:
              - it_books
            category: travels
            productUserFirstName: Joe
            productUserLastName: Doe
          allOf:
            - $ref: "#/components/schemas/Product"
      required:
        - product
    PostProductDto:
      type: object
      properties:
        title:
          type: string
          description: Product name
          example: My product
        description:
          type: string
          description: Product description
          example: My product desc
        pictures:
          description: Product picture name
          example:
            - asd
          type: array
          items:
            type: array
        currency:
          type: string
          enum:
            - PLN
            - USD
            - EUR
          description: Product currency
          example: PLN
        price:
          type: number
          description: Product price
          example: "15000"
        location:
          type: string
          description: The location of the product
          example: 5th Avenu
        contactPhone:
          type: string
          description: The phone to contact a product owner
          example: "123123123"
        contactPerson:
          type: string
          description: Contact person or the owner of the product
          example: John Doe
        category:
          type: string
          enum:
            - house
            - travels
            - business
            - cooking
            - sports
            - computers
          description: Category name
          example: travels
        subcategory:
          type: string
          enum:
            - kitchen
            - bedroom
            - bathroom
            - decoration
            - hiking
            - cycling
            - swimming
            - finance
            - equipment
            - business_software
            - service
            - ingredients
            - dishes
            - cooking_books
            - sports_equipment
            - train
            - hardware
            - software
            - it_books
          description: Subcategory description
          example: it_books
      required:
        - title
        - description
        - pictures
        - currency
        - price
        - location
        - contactPhone
        - contactPerson
        - category
        - subcategory
    GetAllCategoriesDto:
      type: object
      properties:
        categories:
          description: All categories
          example:
            - name: travels
              description: travels_docs
              subCategories:
                - it_books
          type: array
          items:
            type: string
      required:
        - categories
