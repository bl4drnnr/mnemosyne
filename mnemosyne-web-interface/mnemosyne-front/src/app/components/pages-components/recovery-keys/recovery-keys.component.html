<ng-container *transloco="let t">
  <h2 class="third-title flex">
    <span>{{ t('keys.recoveryKeysTitle') }}&nbsp;</span>
    <basic-emoji emoji="old-key.png" [width]="32" [height]="32"/>
  </h2>

  <p class="paragraph">{{ t('keys.recoveryKeys1') }}</p>
  <p class="paragraph">{{ t('keys.recoveryKeys2') }}</p>
  <p class="paragraph">{{ t('keys.recoveryKeys3') }}</p>

  <ol class="options-list">
    <li class="option-item">{{ t('keys.recoveryKeys4') }}</li>
    <li class="option-item">{{ t('keys.recoveryKeys5') }}</li>
    <li class="option-item">{{ t('keys.recoveryKeys6') }}</li>
  </ol>

  <div *ngIf="!recoveryKeysGenerated">
    <basic-input
      type="passphrase"
      [label]="t('input.passphrase')"
      [placeholder]="t('input.providePassphrase')"
      [inputDescription]="t('input.passphraseDesc')"
      [errorMessage]="t('input.passphraseError')"
      [showError]="!isPassphraseValid()"
      [minLength]="8"
      [maxLength]="128"
      [value]="passphrase"
      (valueChange)="passphrase = $event"
    />

    <div class="last-button">
      <basic-button
        [label]="t('button.continue')"
        [disabled]="!isPassphraseValid()"
        (buttonClick)="generateRecoveryKeys()"
      />
    </div>
  </div>

  <div *ngIf="recoveryKeysGenerated">
    <basic-input
      *ngFor="let key of recoveryKeys; let i = index"
      [label]="t('input.recoveryKey', { i: i + 1 })"
      [value]="key"
      [readOnly]="true"
    />

    <basic-button
      [label]="t('button.downloadRecoveryKeys')"
      (buttonClick)="downloadRecoveryKeys()"
    />

    <div class="last-button">
      <basic-button
        [label]="t('button.keysSaved')"
        [fillButton]="true"
        (buttonClick)="keysCopied()"
      />
    </div>
  </div>
</ng-container>
