<layout-credentials
  renderSide="right"
  headerLink="login"
  animation="blockchain_technology4.json"
  [isAnimation]="true"
  [width]="500"
  [height]="500"
  [mirroredHeader]="true"
>
  <ng-container *transloco="let t">
    <div class="welcome-title" [@fadeInOut]="true">
      <h1 class="main-title">Mnemosyne</h1>
      <h2 class="second-title flex">
        <span>{{ t('reg.niceToSeeYou') }}&nbsp;</span>
        <basic-emoji emoji="rocket.png" [width]="48" [height]="48"/>
      </h2>
    </div>

    <div
      class="window-container-stepped"
      [ngClass]="{ 'show': accRegistrationType === 'start' }"
    >
      <div class="window-wrapper-stepped show">
        <h2 class="third-title">{{ t('reg.accType') }}</h2>
        <p class="paragraph">
          <span>{{ t('reg.accTypeDesc') }}&nbsp;</span>
          <basic-link [label]="t('link.here')" href="/" />.
        </p>
        <div class="button-wrapper">
          <basic-button
            [label]="t('reg.personalAcc')"
            (buttonClick)="accRegistrationType = 'private'"
          />
        </div>
        <div class="button-wrapper">
          <basic-button
            [label]="t('reg.companyAcc')"
            (buttonClick)="accRegistrationType = 'company'"
          />
        </div>
      </div>
    </div>

    <div
      class="window-container-stepped"
      [ngClass]="{ 'show': accRegistrationType === 'company' }"
    ></div>

    <div
      class="window-container-stepped"
      [ngClass]="{ 'show': accRegistrationType === 'private' }"
    >
      <div
        class="window-wrapper-stepped"
        [ngClass]="{ 'show': step === 1 }"
        [@fadeInOut]="true"
      >
        <h2 class="third-title">{{ t('reg.registration') }}</h2>
        <basic-input
          type="email"
          [label]="t('input.provideEmail')"
          [placeholder]="t('input.email')"
          [errorMessage]="t('input.wrongEmailFormat')"
          [value]="email"
          (valueChange)="email = $event"
          (incorrectInput)="incorrectEmail = $event"
        />

        <page-component-create-password
          (passwordChange)="password = $event"
          (incorrectInput)="incorrectPassword = $event"
        />

        <div class="last-button">
          <div class="link-wrapper">
            <basic-link
              [label]="t('link.alreadyHaveAccount')"
              href="/login"
            />
          </div>
          <basic-button
            [label]="t('button.createAcc')"
            (buttonClick)="nextStep()"
            [disabled]="wrongCredentials({ includeAll: false })"
          />
          <div class="button-wrapper">
            <basic-button
              [label]="t('button.goBack')"
              (buttonClick)="accRegistrationType = 'start'"
            />
          </div>
        </div>
      </div>

      <div
        class="window-wrapper-stepped"
        [ngClass]="{ 'show': step === 2 }"
        [@fadeInOut]="true"
      >
        <h2 class="third-title">{{ t('reg.registration') }}</h2>
        <basic-input
          [label]="t('input.provideFirstName')"
          [placeholder]="t('input.firstName')"
          [inputDescription]="t('input.fieldRequired')"
          [value]="firstName"
          [minLength]="1"
          [maxLength]="64"
          (valueChange)="firstName = $event"
          (incorrectInput)="incorrectFirstName = $event"
        />
        <basic-input
          [label]="t('input.provideLastName')"
          [placeholder]="t('input.lastName')"
          [inputDescription]="t('input.fieldRequired')"
          [value]="lastName"
          [minLength]="1"
          [maxLength]="64"
          (valueChange)="lastName = $event"
          (incorrectInput)="incorrectLastName = $event"
        />
        <basic-input
          [label]="t('input.location')"
          [placeholder]="t('input.provideLocation')"
          [inputDescription]="t('input.locationDesc')"
          [errorMessage]="t('input.locationError')"
          [value]="location"
          [minLength]="8"
          [maxLength]="128"
          (valueChange)="location = $event"
          (incorrectInput)="incorrectLocationName = $event"
        />
        <basic-input
          [label]="t('input.company')"
          [placeholder]="t('input.provideCompany')"
          [inputDescription]="t('input.companyDesc')"
          [errorMessage]="t('input.companyError')"
          [value]="company"
          [minLength]="2"
          [maxLength]="64"
          (valueChange)="company = $event"
          (incorrectInput)="incorrectCompanyName = $event"
        />
        <basic-input
          [label]="t('input.website')"
          [placeholder]="t('input.provideWebsite')"
          [inputDescription]="t('input.websiteDesc')"
          [showError]="!validationService.isFQDN(website)"
          [errorMessage]="t('input.wrongFQDN')"
          [value]="website"
          (valueChange)="website = $event"
        />
        <basic-checkbox
          [checked]="false"
          (checkedChange)="tac = $event"
        >
          <span content class="tac-box">
            {{ t('reg.iAccept') }}&nbsp;<basic-link
            [label]="t('reg.tac')" href="/terms-and-conditions"
          />
          </span>
        </basic-checkbox>
        <basic-button
          [label]="t('button.createAcc')"
          (buttonClick)="handleRegistration()"
          [disabled]="wrongCredentials({ includeAll: true })"
          [fillButton]="true"
        />
        <div class="last-button">
          <basic-button
            [label]="t('button.goBack')"
            (buttonClick)="backStep()"
          />
        </div>
      </div>

      <div
        class="window-wrapper-stepped"
        [ngClass]="{ 'show': step === 3 }"
        [@fadeInOut]="true"
      >
        <h2 class="third-title">{{ t('reg.registration') }}</h2>

        <p class="paragraph">{{ t('reg.registrationComplete') }}</p>
        <p class="paragraph">{{ t('reg.confirmLinkSent') }}</p>
        <p class="paragraph">{{ t('reg.whenAddressConfirmed') }}</p>

        <div class="last-button">
          <basic-button
            [label]="t('button.logIn')"
            (buttonClick)="handleRedirect('login')"
          />
        </div>
      </div>
    </div>

    <div
      class="alt-registration"
      *ngIf="accRegistrationType !== 'start'"
    >
      <page-component-alt-registration [block]="false" />
    </div>
  </ng-container>
</layout-credentials>
