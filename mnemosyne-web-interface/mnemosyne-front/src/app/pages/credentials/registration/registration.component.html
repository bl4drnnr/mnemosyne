<layout-credentials
  renderSide="right"
  headerLink="login"
  animation="blockchain_technology4.json"
  [isAnimation]="true"
  [width]="500"
  [height]="500"
  [mirroredHeader]="true"
  [isScrollable]="true"
  [currentStep]="step"
  [scrollableStep]="2"
>
  <div class="welcome-title" [@fadeInOut]="true">
    <h1 class="main-title">Mnemosyne</h1>
    <h2 class="second-title flex">
      <span>{{ 'reg.niceToSeeYou' | transloco }}&nbsp;</span>
      <basic-emoji emoji="rocket.png" [width]="48" [height]="48"/>
    </h2>
  </div>

  <div
    *ngIf="accRegistrationType === 'start'"
    class="window-container"
  >
    <div class="window-wrapper">
      <ng-container *transloco="let t">
        <h2 class="third-title">What kind of account you want to create?</h2>
        <p class="paragraph">You can create either for personal use or your company. In order to get more information about the difference between these types of accounts, please, see <basic-link label="here" href="/" />.</p>
        <div class="button-wrapper">
          <basic-button
            label="I want to create personal account"
            (buttonClick)="accRegistrationType = 'private'"
          />
        </div>
        <div class="button-wrapper">
          <basic-button
            label="I want to create company account"
            (buttonClick)="accRegistrationType = 'company'"
          />
        </div>
      </ng-container>
    </div>
  </div>

  <div
    *ngIf="accRegistrationType === 'company'"
    class="window-container"
  ></div>

  <div
    *ngIf="accRegistrationType === 'private'"
    class="window-container"
  >
    <div class="window-wrapper" *ngIf="step === 1" [@fadeInOut]="true">
      <ng-container *transloco="let t">
        <h2 class="third-title">{{ t('reg.registration') }}</h2>
        <basic-input
          type="email"
          [label]="t('input.provideEmail')"
          [placeholder]="t('input.email')"
          [errorMessage]="t('input.wrongEmailFormat')"
          [value]="email"
          (valueChange)="email = $event"
          (incorrectInput)="incorrectEmail = $event"
        />

        <page-component-create-password
          (passwordChange)="password = $event"
          (incorrectInput)="incorrectPassword = $event"
        />

        <div class="last-button">
          <div class="link-wrapper">
            <basic-link
              [label]="t('link.alreadyHaveAccount')"
              href="/login"
            />
          </div>
          <basic-button
            [label]="t('button.createAcc')"
            (buttonClick)="nextStep()"
            [disabled]="wrongCredentials({ includeAll: false })"
          />
          <div class="button-wrapper">
            <basic-button
              [label]="t('button.goBack')"
              (buttonClick)="getOnStart()"
            />
          </div>
        </div>
      </ng-container>
    </div>

    <div class="window-wrapper" *ngIf="step === 2" [@fadeInOut]="true">
      <ng-container *transloco="let t">
        <h2 class="third-title">{{ t('reg.registration') }}</h2>
        <basic-input
          [label]="t('input.provideFirstName')"
          [placeholder]="t('input.firstName')"
          [inputDescription]="t('input.fieldRequired')"
          [value]="firstName"
          [minLength]="1"
          [maxLength]="64"
          (valueChange)="firstName = $event"
          (incorrectInput)="incorrectFirstName = $event"
        />
        <basic-input
          [label]="t('input.provideLastName')"
          [placeholder]="t('input.lastName')"
          [inputDescription]="t('input.fieldRequired')"
          [value]="lastName"
          [minLength]="1"
          [maxLength]="64"
          (valueChange)="lastName = $event"
          (incorrectInput)="incorrectLastName = $event"
        />
        <basic-input
          [label]="t('input.location')"
          [placeholder]="t('input.provideLocation')"
          [inputDescription]="t('input.locationDesc')"
          [errorMessage]="t('input.locationError')"
          [value]="location"
          [minLength]="8"
          [maxLength]="128"
          (valueChange)="location = $event"
          (incorrectInput)="incorrectLocationName = $event"
        />
        <basic-input
          [label]="t('input.company')"
          [placeholder]="t('input.provideCompany')"
          [inputDescription]="t('input.companyDesc')"
          [errorMessage]="t('input.companyError')"
          [value]="company"
          [minLength]="2"
          [maxLength]="64"
          (valueChange)="company = $event"
          (incorrectInput)="incorrectCompanyName = $event"
        />
        <basic-input
          [label]="t('input.website')"
          [placeholder]="t('input.provideWebsite')"
          [inputDescription]="t('input.websiteDesc')"
          [showError]="!validationService.isFQDN(website)"
          [errorMessage]="t('input.wrongFQDN')"
          [value]="website"
          (valueChange)="website = $event"
        />
        <basic-checkbox
          [checked]="false"
          (checkedChange)="tac = $event"
        >
          <span content class="tac-box">
            {{ t('reg.iAccept') }}&nbsp;<basic-link
            [label]="t('reg.tac')" href="/terms-and-conditions"
          />
          </span>
        </basic-checkbox>
        <basic-button
          [label]="t('button.createAcc')"
          (buttonClick)="handleRegistration()"
          [disabled]="wrongCredentials({ includeAll: true })"
          [fillButton]="true"
        />
        <div class="last-button">
          <basic-button
            [label]="t('button.goBack')"
            (buttonClick)="backStep()"
          />
        </div>
      </ng-container>
    </div>

    <div class="window-wrapper" *ngIf="step === 3" [@fadeInOut]="true">
      <ng-container *transloco="let t">
        <h2 class="third-title">{{ t('reg.registration') }}</h2>

        <p class="paragraph">{{ t('reg.registrationComplete') }}</p>
        <p class="paragraph">{{ t('reg.confirmLinkSent') }}</p>
        <p class="paragraph">{{ t('reg.whenAddressConfirmed') }}</p>

        <div class="last-button">
          <basic-button
            [label]="t('button.logIn')"
            (buttonClick)="handleRedirect('login')"
          />
        </div>
      </ng-container>
    </div>
  </div>

  <div
    class="alt-registration"
    *ngIf="accRegistrationType !== 'start'"
  >
    <page-component-alt-registration [block]="false" />
  </div>
</layout-credentials>
